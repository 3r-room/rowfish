---
sidebar_label: websocket实现消息功能与SSE的使用
sidebar_position: 12
---

# websocket实现消息功能与SSE的使用

## 学习目标

* 实现消息即时发送
* 实现聊天室功能
* 使用BullMQ异步存储消息
* 离线消息读取与读取状态设置
* 管理员,发送者与接受者三种身份对消息的CRUD操作

## 流程图
![](https://img.pincman.com/media202209151729690.png)

### 预装类库

在开始编码之前请安装以下类库

```shell
~ pnpm add @nestjs/websockets ws @nestjs/platform-ws
```

## 核心流程

### 类型
...
### 验证管道
...
### 异常处理过滤器
...
### JWT守卫
...
### 模型
...
### 存储类
...
### DTO
...
### 服务类
...
### 异步存储队列
...
### Websocket网关
...
### 消息控制器